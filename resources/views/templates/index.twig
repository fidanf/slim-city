{% extends 'base.twig' %}
{% block content %}

    <!-- jQuery Autocomplete -->
    <div class="row">
        <div class="col-xs-3">
            <div class="form-group">
                <label for="js-autocomplete-department" class="form-label">Saisir un département : </label>
                <input id="js-autocomplete-department" class="form-control" name="departement" type="text" placeholder="ex: Gard, Herault..." >
            </div>
        </div>
    </div>
    
    <hr>
    <!-- DataTable jQuery -->
    <div class="row datatable">
        <div class="col-xs-12">
            <div id="js-loader" class="loader center-block"></div>
            <table id="js-datatable-communes" class="table table-striped table-bordered" width="100%" cellspacing="0" >
                <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Code postal</th>
                        <th>Numéro INSEE</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="js/DataTableApp.js"></script>
    <script>
        $(document).ready(function () {
            var $table = $('#js-datatable-communes');
            var $input = $('#js-autocomplete-department');
            var $loader = $('#js-loader');
            new DataTableApp($table, $input, $loader);
        })
    </script>
{% endblock %}